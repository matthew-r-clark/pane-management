"use strict";window.addEventListener("DOMContentLoaded",function(){var t,i=[].slice.call(document.querySelectorAll("iframe")),e=(t=0,function(){return t+=1});function n(t){this.id=e(),this.element=t,this.origin=new URL(t.src).origin,this.previousHeight=0,this.initialized=!1,this.eligible=!this.element.height||!this.element["height-dynamic"]}n.prototype.getHeight=function(){return this.element.height},n.prototype.setHeight=function(t){var i=this.getHeight();this.eligible&&i!==t&&(this.previousHeight=i,this.element.height=t),this.initialized||(this.initialized=!0)},n.prototype.heightDecreased=function(){return Number(this.previousHeight)>Number(this.getHeight())},n.prototype.scrollToTop=function(){for(var t=this.element,i=0;t!==document.body;)i+=t.offsetTop,t=t.offsetParent;window.scrollTo(0,i)},n.prototype.requestUpdate=function(t){var i=this.element.contentWindow,e=Object.assign(t,{id:this.id});i.postMessage(e,this.origin)},n.prototype.broadcastId=function(){this.requestUpdate({initial:!0})},n.prototype.setOrigin=function(t){this.origin=t};var r={list:[],registerPanes:function(t){t.forEach(this.registerIframe.bind(this))},registerIframe:function(t){var i=new n(t);this.add(i)},unregisterIframe:function(t){var i=this.list.filter(function(i){return i.element===t})[0];this.remove(i)},requestUpdates:function(t){this.list.forEach(function(i){var e={id:i.id,name:"iframe-resizer"};t&&t.id===i.id&&(e.navigation=t.navigation),i.requestUpdate(e)})},getById:function(t){return this.list.filter(function(i){return i.id===t})[0]},getByLocation:function(t){return t=s(t),this.list.filter(function(i){return s(i.element.src)===t})[0]},add:function(t){this.list.push(t)},remove:function(t){var i=this.list.indexOf(t);this.list.splice(i,1)},isTrustedSource:function(t){return this.list.some(function(i){return i.origin===t})},empty:function(){return 0===this.list.length},notInitialized:function(){return this.list.some(function(t){return!t.initialized})},init:function(t){this.registerPanes(t)}};function s(t){return"/"===t[t.length-1]?t.slice(0,-1):t}r.init(i),window.addEventListener("resize",function(){return r.requestUpdates()});var o=null,u=!1;function a(t,i){r.getById(t).setHeight(i)}window.addEventListener("message",function(t){var i=t.data;if(r.isTrustedSource(t.origin))if((i.changeDetected||i.clicked)&&i.id){a(i.id,i.height);var e=r.getById(i.id);e.heightDecreased()&&u&&e.scrollToTop(),u=!0}else if(i.navigation)o=i.id;else if(i.initial&&r.notInitialized()){var n=r.getByLocation(i.location);a(n.id,i.height),n.broadcastId()}else if(i.initial&&o){var s=o;o=null,a(s,i.height);var c=r.getById(s);c.heightDecreased()&&c.scrollToTop(),c.setOrigin(t.origin),c.broadcastId()}else i.id&&a(i.id,i.height)}),new MutationObserver(function(t,e){var n=[].slice.call(document.querySelectorAll("iframe"));n.length>i.length?function(t){var e=t.filter(function(t){return!i.includes(t)})[0];r.registerIframe(e),i=t}(n):n.length<i.length&&function(t){var e=i.filter(function(i){return!t.includes(i)})[0];r.unregisterIframe(e),i=t}(n)}).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});