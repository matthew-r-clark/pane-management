window.addEventListener("DOMContentLoaded",function(){var t=[].slice.call(document.querySelectorAll("iframe")).filter(i);function i(t){return t.getAttribute("pane-management")}var e,n=(e=0,function(){return e+=1});function r(t){this.id=n(),this.element=t,this.origin=new URL(t.src).origin,this.previousHeight=0,this.initialized=!1}r.prototype.getHeight=function(){return this.element.height},r.prototype.setHeight=function(t){var i=this.getHeight();i!==t&&(this.previousHeight=i,this.element.height=t),this.isNotInitialized()&&this.initialize()},r.prototype.heightDecreased=function(){return Number(this.previousHeight)>Number(this.getHeight())},r.prototype.scrollToTop=function(){for(var t=this.element,i=0;t!==document.body;)i+=t.offsetTop,t=t.offsetParent;window.scrollTo(0,i)},r.prototype.requestUpdate=function(t){var i=this.element.contentWindow,e=Object.assign(t,{id:this.id});i.postMessage(e,this.origin)},r.prototype.broadcastId=function(){this.requestUpdate({initial:!0})},r.prototype.setOrigin=function(t){this.origin=t},r.prototype.initialize=function(){this.initialized=!0},r.prototype.isNotInitialized=function(){return!this.initialized};var o={list:[],registerPanes:function(t){t.forEach(this.registerIframe.bind(this))},registerIframe:function(t){var i=new r(t);this.add(i)},unregisterIframe:function(t){var i=this.list.filter(function(i){return i.element===t})[0];this.remove(i)},requestUpdates:function(t){this.list.forEach(function(i){var e={id:i.id,name:"iframe-resizer"};t&&t.id===i.id&&(e.navigation=t.navigation),i.requestUpdate(e)})},getById:function(t){return this.list.filter(function(i){return i.id===t})[0]},getByLocation:function(t){return t=s(t),this.list.filter(function(i){return s(i.element.src)===t})[0]},add:function(t){this.list.push(t)},remove:function(t){var i=this.list.indexOf(t);this.list.splice(i,1)},isTrustedSource:function(t){return this.list.some(function(i){return i.origin===t})},empty:function(){return 0===this.list.length},notInitialized:function(){return this.list.some(function(t){return!t.initialized})},init:function(t){this.registerPanes(t)}};function s(t){return"/"===t[t.length-1]?t.slice(0,-1):t}o.init(t),window.addEventListener("resize",function(){return o.requestUpdates()});var u=null,a=!1;function c(t,i){o.getById(t).setHeight(i)}window.addEventListener("message",function(t){var i=t.data;if(o.isTrustedSource(t.origin))if((i.changeDetected||i.clicked)&&i.id){c(i.id,i.height);var e=o.getById(i.id);e.heightDecreased()&&a&&e.scrollToTop(),a=!0}else if(i.navigation)u=i.id;else if(i.initial&&o.notInitialized()){var n=o.getByLocation(i.location);c(n.id,i.height),n.broadcastId()}else if(i.initial&&u){var r=u;u=null,c(r,i.height);var s=o.getById(r);s.heightDecreased()&&s.scrollToTop(),s.setOrigin(t.origin),s.broadcastId()}else i.id&&c(i.id,i.height)}),new MutationObserver(function(e,n){var r=[].slice.call(document.querySelectorAll("iframe")).filter(i);r.length>t.length?function(i){var e=i.filter(function(i){return!t.includes(i)})[0];o.registerIframe(e),t=i}(r):r.length<t.length&&function(i){var e=t.filter(function(t){return!i.includes(t)})[0];o.unregisterIframe(e),t=i}(r)}).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});